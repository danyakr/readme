## Документация фреймворка для автотестирования

### Оглавление

* [1. Введение](#1-введение)
    * [1.1 Описание фреймворка](#1.1-описание-фреймворка)
    * [1.2 Предназначение документации](#1.2-предназначение-документации)
    * [1.3 Требования к системе](#1.3-требования-к-системе)
* [2. Установка и настройка](#2-установка-и-настройка)
    * [2.1 Создание виртуального окружения](#2.1-создание-виртуального-окружения)
    * [2.2 Установка необходимых библиотек](#2.2-установка-библиотек)
    * [2.3 Установка зависимостей с помощью requirements.txt](#2.3-установка-зависимостей-requirements.txt)
    * [2.4 Настройка конфигурации](#2.4-настройка-конфигурации)
* [3. Структура проекта (POM)](#3-структура-проекта-pom)
* [4. API Reference (Справочник по API)](#4-api-reference)
    * [4.1 Класс LoginPage](#4.1-класс-loginpage)
* [5. Примеры использования](#5-примеры-использования)
* [6. Файлы констант](#6-файлы-констант)
    * [6.1 Файл credentials.py](#6.1-файл-credentials.py)
    * [6.2 Файл error_const.py](#6.2-файл-error_const.py)
    * [6.3 Файл other_const.py](#6.3-файл-other_const.py)
* [7. Тестирование с pytest](#7-тестирование-с-pytest)
    * [7.1 Теггирование pytest](#7.1-теггирование-pytest)
    * [7.2 Фикстуры pytest](#7.2-фикстуры-pytest)
* [8. Конфигурации запуска тестов Playwright](#8-кофигурации-запуска-тестов)
    * [8.1 Запуск тестов](#8.1-запуск-тестов)
    * [8.2 Настройка запуска](#8.2-настройка-запуска)
    * [8.3 Отладка тестов](#8.3-отладка-тестов)


### 1. Введение <a name="1-введение"></a>

#### 1.1 Описание фреймворка <a name="1.1-описание-фреймворка"></a>

Этот фреймворк предназначен для автоматизации тестирования системы InstallPlan. Он предоставляет набор классов и методов для взаимодействия с элементами страниц системы. Предоставляя готовые инструменты он  упрощает и ускоряет процесс написания тестовых сценариев. А также обеспечивает эффективную поддержку и модификацию сценариев, за счет подробного наименования выполняемых действий, что улучшает читаемость написанных тестов. Данный фреймворк построен на основе библиотеки Playwright, которая предоставляет функциональность для взаимодействия с браузером.

<br>

#### 1.2 Предназначение документации <a name="1.2-предназначение-документации"></a>

Данная документация предназначена для разработчиков и тестировщиков, которые хотят использовать фреймворк для автоматизации тестирования, а также для тех, кто хочет разобраться в работе фреймворка. Она предоставляет информацию о том, как развернуть фреймворк локально, а также о классах, методах, функциях и о том, как их использовать.

<br>

#### 1.3 Требования к системе <a name="1.3-требования-к-системе"></a>
После клонирования проекта необходимо установить зависимости используемые в нем. Перед установкой библиотек необходимо установить виртуальное окружение (описано в пункте `2.1 Создание виртуального окружения`).
* Python 3.7 или выше
* Playwright (устанавливается с помощью pip install playwright)
* pyperclip (устанавливается с помощью pip install pyperclip)

 
### 2. Установка и настройка <a name="2-установка-и-настройка"></a>

#### 2.1 Создание виртуального окружения <a name="2.1-создание-виртуального-окружения"></a>

1. Откройте терминал или командную строку.
2. Перейдите в директорию проекта.
3. Создайте виртуальное окружение: `python -m venv .venv`

Для активации виртуального окружения используйте следующие команды:
* **Windows:**
`.venv\Scripts\activate`

* **macOS/Linux:**
`source .venv/bin/activate`

Для выхода из виртуального окружения и возврата к глобальному окружению Python введите следующую команду: `deactivate`

<br>

#### 2.2 Установка необходимых библиотек <a name="2.2-установка-библиотек"></a>
После активации виртуального окружения установите необходимые библиотеки. Возможна либо установка вручную, с помощью команды:
`pip install pytest-playwright pyperclip`

Либо используя файл requirements.txt (описано в пункте `2.3 Установка зависимостей с помощью requirements.txt`).

<br>

#### 2.3 Установка зависимостей с помощью requirements.txt <a name="2.3-установка-зависимостей-requirements.txt"></a>
Файл `requirements.txt` содержит список необходимых библиотек для работы фреймворка. Вы можете использовать его для установки всех зависимостей одновременно.

Установите библиотеки, используя команду:
`pip install -r requirements.txt`

После выполнения команды все необходимые библиотеки будут установлены в вашем виртуальном окружении.

<br>

#### 2.4 Настройка конфигурации <a name="2.4-настройка-конфигурации"></a>
Фреймворк не требует настройки конфигурационных файлов. Однако, для работы с Playwright необходимо скачать требуемые браузеры. Это можно сделать, запустив команду:
`playwright install`

 
### 3. Структура проекта (POM) <a name="3-структура-проекта-pom"></a>
Применяется модель Page Object Model (POM) для организации кода.

Структура:

* ip_automation: Корневая директория проекта.
  * const: Директория, где хранятся файлы с константами.
    * credentials.py: Файл с константами учетных данных.
    * error_const.py: Файл с константами текстов ошибок.
    * other_const.py: Файл с другими константами (минимальная, максимальная длина полей, цвет кнопки до и после наведения и т.д.).
  * pages: Директория, где хранятся классы, представляющие страницы приложения (Page Objects).
    * login_page.py: Файл, содержащий класс, представляющий функциональность для тестирования страницы авторизации.
  * tests: Директория, где хранятся файлы с тестовыми сценариями для страниц.
    * test_login_page.py: Файл с тестовыми сценариями для страницы авторизации.
  * pytest.ini: Конфигурационный файл pytest.
  * conftest.py: Файл с фикстурами для pytest.
  * requirements.txt: Файл с зависимостями, необходимыми для работы фреймворка.

Новые Page Objects добавляются в директорию pages, а соответствующие тестовые сценарии для этих страниц - в директорию tests. Файлы с константами пополняются по мере необходимости.

 
### 4. API Reference (Справочник по API) <a name="4-api-reference"></a>

#### 4.1 Класс LoginPage <a name="4.1-класс-loginpage"></a>

Класс `LoginPage`, находящийся в файле `login_page.py` предоставляет набор методов для работы с элементами страницы авторизации.

<br>

Атрибуты, определенные в конструкторе класса `LoginPage`:

* `page`: Объект страницы Playwright, представляющий страницу авторизации.
* `login_button`: Элемент кнопки "Войти".
* `confirm_button`: Элемент кнопки "Подтвердить" (используется при двухфакторной аутентификации).
* `email_field`: Элемент поля для ввода логина (email).
* `pwd_field`: Элемент поля для ввода пароля.
* `verification_code_field`: Элемент поля для ввода проверочного кода.
* `forgot_pwd_link`: Элемент ссылки "Забыли пароль?".
* `sms_verification_code_field`: Элемент поля для ввода SMS-кода (используется при двухфакторной аутентификации).
* `email_verification_code_field`: Элемент поля для ввода email-кода (используется при двухфакторной аутентификации).

<br>

Методы, определенные в конструкторе класса `LoginPage`:

##### 4.1.1 Метод для перехода на страницу авторизации

* `navigate()`: Переход на страницу авторизации.
* `navigate_to_home_page()`: Переход на домашнюю (стартовую страницу). Переход переходит на адрес, который указан в константе HOME_PAGE_URL файла other_const.py
* `check_url(url: str)`: Проверка url страницы, переданного в качестве аргумента.

##### 4.1.2 Методы для работы с кнопкой "Войти"

* `check_login_btn_exists()`: Проверка, что кнопка "Войти" отображается на странице.
* `check_login_btn_not_exists()`: Проверка, что кнопка "Войти" не отображается на странице.
* `click_login_btn()`: Нажатие на кнопку "Войти".
* `check_login_btn_disabled()`: Проверка, что кнопка "Войти" отключена.
* `check_login_btn_cursor()`: Проверка, что курсор над кнопкой "Войти" меняется на указатель.
* `check_login_btn_hover_color_change()`: Проверка, кнопка "Войти" имеет стандартный цвет фона (DEFAULT_COLOR), а при наведении курсора меняет цвет на заданный (HOVER_COLOR).

##### 4.1.3 Методы для работы с кнопкой "Подтвердить"

* `check_confirm_btn_exists()`: Проверка, что кнопка "Подтвердить" отображается на странице.
* `check_confirm_btn_not_exists()`: Проверка, что кнопка "Подтвердить" не отображается на странице.
* `click_confirm_btn()`: Нажатие на кнопку "Подтвердить".
* `check_confirm_btn_disabled()`: Проверка, что кнопка "Подтвердить" отключена.
* `check_confirm_btn_cursor()`: Проверка, что курсор над кнопкой "Подтвердить" меняется на указатель.
* `check_confirm_btn_hover_color_change()`: Проверка, что кнопка "Подтвердить" имеет стандартный цвет фона (DEFAULT_COLOR), а при наведении курсора меняет цвет на заданный (HOVER_COLOR).

##### 4.1.4 Методы для работы с полем логина (email)

* `check_email_field_exists()`: Проверка, что поле логина (email) отображается на странице.
* `click_email_field()`: Нажатие на поле логина (email).
* `fill_email_field(text: str)`: Ввод текста в поле логина (email).
* `check_email_field_cursor()`: Проверка, что тип курсора над полем логина (email) меняется на текстовый.
* `check_email_field_value(value: str)`: Проверка, что поле логина (email) содержит ожидаемое значение.

##### 4.1.5 Методы для работы с полем пароля

* `check_pwd_field_exists()`: Проверка, что поле пароля отображается на странице.
* `check_pwd_field_hidden()`: Проверка, что поле пароля скрыто.
* `click_pwd_field()`: Нажатие на поле пароля.
* `fill_pwd_field(text: str)`: Ввод текста в поле пароля.
* `check_pwd_field_cursor()`: Проверка, что тип курсор над полем пароля меняется на текстовый.
* `check_pwd_field_type()`: Проверка, что тип поля пароля - "password".
* `check_pwd_field_value(value: str)`: Проверка, что поле пароля содержит ожидаемое значение.

##### 4.1.6 Методы для работы с полем проверочного кода

* `check_verification_code_field_exists()`: Проверка, что поле проверочного кода отображается на странице.
* `check_verification_code_field_not_exists()`: Проверка, что поле проверочного кода не отображается на странице.
* `click_verification_code_field()`: Нажатие на поле проверочного кода.
* `fill_verification_code_field(text: str)`: Ввод текста в поле проверочного кода.
* `check_verification_code_field_cursor()`: Проверка, что тип курсора над полем проверочного кода меняется на текстовый.
* `check_verification_code_field_value(value: str)`: Проверка, что поле проверочного кода содержит ожидаемое значение.

##### 4.1.7 Методы для нажатия Enter

* `press_enter_btn_from_login()`: Нажатие Enter в поле логина (email).
* `press_enter_btn_from_pwd()`: Нажатие Enter в поле пароля.
* `press_enter_btn_from_code()`: Нажатие Enter в поле проверочного кода.

##### 4.1.8 Методы для проверки ошибок

* `check_error_text(error: str)`: Проверка, что текст ошибки отображается на странице.
* `check_error_text_not_exists(error: str)`: Проверка, что текст ошибки отображается на странице.

`error`: Текст ошибки, в качестве аргумента передаются константы, определенные в файле error_const.py


##### 4.1.9 Методы для вставки текста из буфера обмена

* `paste_text_from_buffer(text: str, type_field: Literal['email', 'password', 'code'])`:

Вставляет текст из буфера обмена в указанное поле на странице авторизации. 

Параметры:
* `text`: Текст, который нужно вставить.
* `type_field`: Тип поля, в которое нужно вставить текст. Допустимые значения:
    * 'email': Поле логина (email)
    * 'password': Поле пароля
    * 'code': Поле проверочного кода

##### 4.1.10 Методы для работы со ссылкой "Забыли пароль?"

* `check_forgot_pwd_link_exists()`: Проверка, что ссылка "Забыли пароль?" отображается на странице.
* `click_forgot_pwd_link()`: Нажатие на ссылку "Забыли пароль?".
* `check_forgot_pwd_link_cursor()`: Проверка, что курсор над ссылкой "Забыли пароль?" меняется на указатель.

##### 4.1.11 Методы для работы с полем SMS-кода

* `check_sms_verification_code_field_exists()`: Проверка, что поле SMS-кода отображается на странице.
* `check_sms_verification_code_field_not_exists()`: Проверка, что поле SMS-кода не отображается на странице.
* `click_sms_verification_code_field()`: Нажатие на поле SMS-кода.
* `fill_sms_verification_code_field(text: str)`: Ввод текста в поле SMS-кода.
* `check_sms_verification_code_field_cursor()`: Проверка, что тип курсора над полем SMS-кода меняется на текстовый.
* `check_sms_verification_code_field_value`: Проверка, что поле SMS-кода содержит ожидаемое значение.

##### 4.1.12 Методы для работы с полем email-кода

* `check_email_verification_code_field_exists()`: Проверка, что поле email-кода отображается на странице.
* `check_email_verification_code_field_not_exists()`: Проверка, что поле email-кода не отображается на странице.
* `click_email_verification_code_field()`: Нажатие на поле email-кода.
* `fill_email_verification_code_field(text: str)`: Ввод текста в поле email-кода.
* `check_email_verification_code_field_cursor()`: Проверка, что тип курсора над полем email-кода меняется на текстовый.
* `check_email_verification_code_field_value`: Проверка, что поле email-кода содержит ожидаемое значение.
 
### 5. Примеры использования <a name="5-примеры-использования"></a>

#### 5.1 Базовый сценарий авторизации

```python
from playwright.sync_api import sync_playwright
from pages.login_page import LoginPage

with sync_playwright() as p:
    browser = p.chromium.launch(headless=False)
    page = browser.new_page()
    login_page = LoginPage(page)

    login_page.navigate()
    login_page.fill_email_field("test@example.com")
    login_page.fill_pwd_field("password123")
    login_page.click_login_btn()
```

#### 5.2 Сценарий с двухфакторной аутентификацией

```python
from playwright.sync_api import sync_playwright
from pages.login_page import LoginPage

with sync_playwright() as p:
    browser = p.chromium.launch(headless=False)
    page = browser.new_page()
    login_page = LoginPage(page)

    login_page.navigate()
    login_page.fill_email_field("test@example.com")
    login_page.fill_pwd_field("password123")
    login_page.click_login_btn()

    # Проверка двухфакторной аутентификации
    login_page.check_verification_code_field_exists()
    login_page.fill_verification_code_field("1234")
    login_page.click_confirm_btn()
```

#### 5.3 Сценарий с проверкой ошибок

```python
from playwright.sync_api import sync_playwright
from pages.login_page import LoginPage

from const.error_const import USER_NOT_FOUND

with sync_playwright() as p:
    browser = p.chromium.launch(headless=False)
    page = browser.new_page()
    login_page = LoginPage(page)

    login_page.navigate()
    login_page.fill_email_field("invalid@gmail.com")
    login_page.fill_pwd_field("wrong_password")
    login_page.click_login_btn()

    # Проверка ошибки
    login_page.check_error_text(USER_NOT_FOUND)
```
 
### 6. Файлы констант <a name="6-файлы-констант"></a>

##### 6.1 Файл credentials.py <a name="6.1-файл-credentials.py"></a>

Содержит тестовые данные для различных сценариев авторизации. В нем определены следующие константы:

* `VALID_EMAIL`: Корректный адрес почты (пользователь с таким адресов зарегестрирован в системе и почта корректного формата).
* `VALID_PASSWORD`: Корретный пароль от аккаунта пользователя с корректным адресом почты.
* `VALID_CODE`: Корректный проверочный код.

* `UNREGISTERED_EMAIL`: Адрес электронной почты пользователя, не зарегистрированного в системе.
* `INVALID_EMAIL`: Некорректный формат адреса электронной почты.
* `INVALID_PASSWORD`: Неверный пароль.
* `INVALID_CODE`: Неверный проверочный код.

* `TEST_USERNAME`: Логин тестового аккаунта.
* `TEST_PASSWORD`: Пароль тестового аккаунта.

* `REMOTE_USERNAME`: Логин удаленного пользователя.
* `REMOTE_PASSWORD`: Пароль удаленного пользователя.

* `BLOCKED_USERNAME`: Логин заблокированного пользователя.
* `BLOCKED_PASSWORD`: Пароль заблокированного пользователя.

##### 6.2 Файл error_const.py <a name="6.2-файл-error_const.py"></a>

Содержит константы, представляющие тексты ошибок, которые могут возникать на странице авторизации.
В нем определены следующие константы:
  * `USER_NOT_FOUND`: Текст ошибки для случая, когда введен неверный логин. Пользователь с таким логином незарегистрирован.
  * `INVALID_PASSWORD`: Текст ошибки для случая, когда введен неверный пароль.
  * `USER_DELETED_OR_BLOCKED`: Текст ошибки для случая, когда введен логин, принадлежащий удаленному или заблокированному пользователю.
  * `INVALID_EMAIL`: Текст ошибки для случая, когда введен некорректный формат почты (зарезервировано - функционал не реализован).
  * `CODE_ALREADY_SENT`: Текст ошибки для случая когда код запрашивается повторно, но он уже был отправлен пользователю. 
  * `INVALID_CODE`: Текст ошибки для случая, когда введен неверный код при двухфакторной аутентификации.
  * `ENTER_LOGIN`: Текст ошибки, возникающей при попытке перейти к восстановлению пароля без введенного логина.

<br>

##### 6.3 Файл other_const.py <a name="6.3-файл-other_const.py"></a>

Содержит константы, представляющие различные ограничения и настройки, используемые в коде.
  * `MIN_LOGIN_LENGTH`: Минимальная допустимая длина логина.
  * `MAX_LOGIN_LENGTH`: Максимальная допустимая длина логина.
  * `MIN_PASSWORD_LENGTH`: Минимальная допустимая длина пароля.
  * `MAX_PASSWORD_LENGTH`: Максимальная допустимая длина пароля.
  * `VERIFICATION_CODE_LENGTH`: Длина проверочного кода.
  * `SMS_CODE_LENGTH`: Длина SMS-кода.
  * `EMAIL_CODE_LENGTH`: Длина email-кода.
  * `DEFAULT_COLOR`: Цвет фона кнопки до наведения.
  * `HOVER_COLOR`: Цвет фона кнопки после наведения.
  * `HOME_PAGE_URL`: URL-адрес домашней (стартовой) страницы пользователя

 
### 7. Тестирование с pytest <a name="7-тестирование-с-pytest"></a>

#### 7.1 Теггирование pytest <a name="7.1-теггирование-pytest"></a>
Pytest предоставляет маркеры для того, чтобы пометить некоторые тесты. Это необходимо для различных целей, например, пропустить выполнение теста по некоторой причине, запустить только те тесты, которые помечены определенным маркером, параметризировать тесты и т.д.
В коде используются следующие маркеры pytest:

* `@pytest.mark.skip` (встроенный): Отмечает тест, который должен быть пропущен. Используются для тестов, функциональность которых еще не реализована.
* `@pytest.mark.smoke` (кастомный): Отмечает тест как дымовой, проверяющий основную функциональность приложения.
* `@pytest.mark.parametrize("param_name", [value1, value2, ...])`: Декоратор, использующийся для параметризации теста. Тест будет запущен для каждого набора аргументов перечисленных в списке. В первом параметре декоратора можно указать несколько переменных, разделенных запятыми. Значения для этих переменных будут браться из соответствующих элементов кортежей, перечисленных во втором параметре.

<br>

#### 7.2 Фикстуры pytest <a name="7.2-фикстуры-pytest"></a>
В представленных примерах кода виден повторяющийся код, что затрудняет его поддержку и читаемость. Для решения этой проблемы pytest предоставляет механизм фикстур. Фикстуры, которые определяются в файле `conftest.py`, позволяют извлекать повторяющиеся действия или данные в отдельные функции. Эти функции затем передаются в качестве аргументов в функции тестов и используются для различных целей: создания экземпляров объектов, подготовки тестовой среды, открытия веб-страниц и так далее.

##### 7.2.1 Фикстура reload_page

Фикстура выполняет перезагрузку страницы браузера.

##### 7.2.2 Фикстура login_page

Создает экземпляр класса `LoginPage` для каждого теста, которому требуются поля и методы этого класса.
Для использования необходимо передать как аргумент функции теста, например, `def test_login_btn_exists(self, login_page)`. После передачи этой фикстуры будут доступны все методы для взаимодействия с элементами страницы класса.

##### 7.2.3 Фикстура open_login_page

Фикстура выполняет перемещение на страницу авторизации перед запуском каждого теста.

##### 7.2.4 Фикстура enter_valid_email

Фикстура вводит корректный адрес почты в поле логина на странице авторизации.

##### 7.2.5 Фикстура enter_valid_email_with_spaces

Фикстура вводит корректный адрес почты в поле логина на странице авторизации, но с пробелами до и после адреса почты.

##### 7.2.6 Фикстура enter_valid_uppercase_email

Фикстура вводит корректный адрес почты в поле email на странице авторизации, но в верхнем регистре.

##### 7.2.7 Фикстура enter_invalid_email

Фикстура вводит некорректный по формату адрес почты в поле email на странице авторизации.

##### 7.2.8 Фикстура enter_unregistered_email

Фикстура вводит адрес почты незарегистрированного пользователя в поле логина на странице авторизации.

##### 7.2.9 Фикстура enter_valid_pwd

Фикстура вводит корректный пароль в поле пароля на странице авторизации.

##### 7.2.10 Фикстура enter_valid_uppercase_pwd
Фикстура вводит корректный пароль в поле пароля на странице авторизации, но в верхнем регистре.

##### 7.2.11 Фикстура enter_invalid_pwd

Фикстура вводит некорректный (неверный) пароль в поле пароля на странице авторизации.

##### 7.2.12 Фикстура enter_valid_creds

Фикстура вводит корректные адрес почты и пароль в соответствующие поля на странице авторизации.

##### 7.2.13 Фикстура enter_creds_valid_code

Фикстура вводит корректный адрес почты, пароль и проверочный код в соответствующие поля на странице авторизации.

##### 7.2.14 Фикстура enter_creds_invalid_code

Фикстура вводит корректный адрес почты и пароль, но некорректный проверочный код в соответствующие поля на странице авторизации.

##### 7.2.15 Фикстура login_with_code_and_return_to_page

Фикстура вводит корректные адрес почты, пароль и проверочный код, выполняет вход в систему и возвращает на страницу авторизации.

##### 7.2.16 Фикстура enter_long_email

Фикстура вводит адрес почты, превышающий максимальную допустимую длину, в поле логина на странице авторизации.

##### 7.2.17 Фикстура enter_short_email

Фикстура вводит адрес почты, короче минимальной допустимой длины, в поле логина на странице авторизации.

##### 7.2.18 Фикстура enter_long_pwd

Фикстура вводит пароль, превышающий максимальную допустимую длину, в поле пароля на странице авторизации.

##### 7.2.19 Фикстура enter_short_pwd

Фикстура вводит пароль, короче минимальной допустимой длины, в поле пароля на странице авторизации.

##### 7.2.20 Фикстура enter_creds_remote_user

Фикстура вводит адрес почты и пароль удаленного пользователя в соответствующие поля на странице авторизации.

##### 7.2.21 Фикстура enter_creds_blocked_user

Фикстура вводит адрес почты и пароль заблокированного пользователя в соответствующие поля на странице авторизации.

 
#### 8. Конфигурации запуска тестов Playwright <a name="8-кофигурации-запуска-тестов"></a>

#### 8.1 Запуск тестов <a name="8.1-запуск-тестов"></a>

##### 8.1.1 Запуск всех тестов

* `pytest`:  Запускает все тесты по умолчанию на Chromium в headless режиме.
* `pytest --headed`:  Запускает все тесты в режиме headed (с графическим интерфейсом).

##### 8.1.2 Запуск тестов в конкретном модуле

* `pytest test_login.py`:  Запускает тесты только в файле `test_login.py`.

##### 8.1.3 Запуск набора модулей с тестами

* `pytest tests/test_todo_page.py tests/test_landing_page.py`: Запускает тесты в файлах `tests/test_todo_page.py` и `tests/test_landing_page.py`.

##### 8.1.4 Запуск тестов, соответствующих заданному шаблону

* `pytest -k pattern`: Выполняет тесты, имена которых соответствуют указанному шаблону `pattern`.
Кроме того, команда `pytest -k` позволяет запустить отдельный тест, указав его полное имя в качестве шаблона.

<br>

Тесты группируются в классы для улучшения структуры и организации кода. Это позволяет логически разбить тесты по тестируемому элементу, процессу или функциональности, что делает код более читаемым и поддерживаемым.
Для запуска таких тестов в группе или конкретного теста из группы используются команды:

##### 8.1.5 Запуск тестов, объединенных в класс:

`pytest tests/test_login_page.py::TestLoginBtn`: Запускает все тесты, объединенные в классе `TestLoginBtn` в файле `tests/test_login_page.py`.

##### 8.1.6 Запуск конкретного теста из группы:

`pytest tests/test_login_page.py::TestLoginBtn::test_login_btn_exists`: Запускает конкретный тест `test_login_btn_exists` из класса `TestLoginBtn` в файле `tests/test_login_page.py`.

##### 8.1.7 Вывод подробной информации

* `pytest -v`: Выводит подробную информацию о каждом тесте, включая его имя, метки и результат.

##### 8.1.8 Фильтрация по меткам

* `pytest -m smoke`: Запускает только тесты, отмеченные тегом smoke.
* `pytest -m "not smoke"`: Запускает все тесты, кроме отмеченных тегом smoke.

<br>

#### 8.2 Настройка запуска <a name="8.2-настройка-запуска"></a>

##### 8.2.1 Выбор браузера

* `pytest --browser chromium`: Запускает тесты на Chromium (по умолчанию).
* `pytest --browser firefox`: Запускает тесты на Firefox.
* `pytest --browser webkit`: Запускает тесты на WebKit.
* `pytest --browser chromium --browser firefox --browser webkit`: Запускает тесты на всех трех браузерах.

##### 8.2.2 Эмуляция устройств

* `pytest --device 'iPhone 13'`: Запускает тесты в режиме эмуляции устройства iPhone 13. 

##### 8.2.3 Замедление выполнения

* `pytest --slowmo 500`: Замедляет операции Playwright на 500 миллисекунд для удобного просмотра выполнения тестов.

<br>

#### 8.3 Отладка тестов <a name="8.3-отладка-тестов"></a>
Команды приводятся для PowerShell, используйте соответствующие команды вашей операционной системы, если она отличается от Windows.

##### 8.3.1 Отладка всех тестов

Для отладки всех тестов используется playwright inspector, который вызывается командами:
```PowerShell
$env:PWDEBUG=1
pytest -s
```

##### 8.3.2 Отладка тестов в конкретном модуле

Чтобы отладить один тестовый файл, необходимо выполнить команды, указав за ними имя тестового файла:
```PowerShell
$env:PWDEBUG=1
pytest -s test_example.py
```

##### 8.3.3 Отладка конкретного теста

Для отладки тестов, имена которых соответствуют указанному шаблону `pattern` необходимо указать флаг -k
```PowerShell
$env:PWDEBUG=1
pytest -s -k pattern
```
Кроме того, команда `pytest -s -k` позволяет отладить отдельный тест, указав его полное имя в качестве шаблона.
